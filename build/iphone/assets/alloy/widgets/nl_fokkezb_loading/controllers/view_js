function WPATH(e){var t=e.lastIndexOf("/"),i=-1===t?"nl.fokkezb.loading/"+e:e.substring(0,t)+"/nl.fokkezb.loading/"+e.substring(t+1);return i}function __processArg(e,t){var i=null;return e&&(i=e[t]||null,delete e[t]),i}function Controller(){function e(e,t){n.loadingMessage.text=e||L("loadingMessage","Loading..."),l=t}function t(){_.isFunction(l)&&(l(),n.trigger("cancel"),r())}function i(t,i){e(t,i),n.loadingMask.show(),s?n.loadingImages.start():n.loadingIndicator.show()}function r(){n.loadingMask.hide()}new(require("alloy/widget"))("nl.fokkezb.loading"),this.__widgetId="nl.fokkezb.loading",require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="view",this.args=arguments[0]||{},arguments[0]&&(__processArg(arguments[0],"__parentSymbol"),__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate"));var n=this,o={},a={};n.__views.loadingMask=Ti.UI.createView({backgroundColor:"#5000",visible:!1,id:"loadingMask"}),n.__views.loadingMask&&n.addTopLevelView(n.__views.loadingMask),t?n.addListener(n.__views.loadingMask,"click",t):a["$.__views.loadingMask!click!cancel"]=!0,n.__views.loadingOuter=Ti.UI.createView({width:Ti.UI.SIZE,height:Ti.UI.SIZE,borderRadius:10,backgroundColor:"#C000",id:"loadingOuter"}),n.__views.loadingMask.add(n.__views.loadingOuter),n.__views.loadingInner=Ti.UI.createView({top:"20dp",right:"20dp",bottom:"20dp",left:"20dp",width:Ti.UI.SIZE,height:Ti.UI.SIZE,layout:"vertical",id:"loadingInner"}),n.__views.loadingOuter.add(n.__views.loadingInner),n.__views.loadingIndicator=Ti.UI.createActivityIndicator({top:"0dp",style:Ti.UI.iPhone.ActivityIndicatorStyle.BIG,id:"loadingIndicator"}),n.__views.loadingInner.add(n.__views.loadingIndicator),n.__views.loadingImages=Ti.UI.createImageView({top:"0dp",images:["/images/nl.fokkezb.loading/00.png","/images/nl.fokkezb.loading/01.png","/images/nl.fokkezb.loading/02.png","/images/nl.fokkezb.loading/03.png","/images/nl.fokkezb.loading/04.png","/images/nl.fokkezb.loading/05.png","/images/nl.fokkezb.loading/06.png","/images/nl.fokkezb.loading/07.png","/images/nl.fokkezb.loading/08.png","/images/nl.fokkezb.loading/09.png","/images/nl.fokkezb.loading/10.png","/images/nl.fokkezb.loading/11.png"],id:"loadingImages"}),n.__views.loadingInner.add(n.__views.loadingImages),n.__views.loadingMessage=Ti.UI.createLabel({top:"20dp",width:Ti.UI.SIZE,height:Ti.UI.SIZE,text:L("loadingMessage","Loading.."),color:"#fff",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,font:{fontSize:"16dp"},id:"loadingMessage"}),n.__views.loadingInner.add(n.__views.loadingMessage),o.destroy=function(){},_.extend(n,n.__views);var s=!1,l=null;n.show=i,n.hide=r,n.update=e,n.cancel=t,Object.defineProperty(n,"visible",{get:function(){return n.loadingMask.visible},set:function(e){return e?i():r()}}),!function(e){n.loadingMask.images?(s=!0,n.loadingInner.remove(n.loadingIndicator),n.loadingIndicator=null):(n.loadingInner.remove(n.loadingImages),n.loadingImages=null),e=null}(arguments[0]||{}),a["$.__views.loadingMask!click!cancel"]&&n.addListener(n.__views.loadingMask,"click",t),_.extend(n,o)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;