function WPATH(e){var t=e.lastIndexOf("/"),i=-1===t?"com.mattmcfarland.fontawesome/"+e:e.substring(0,t)+"/com.mattmcfarland.fontawesome/"+e.substring(t+1);return i}function __processArg(e,t){var i=null;return e&&(i=e[t]||null,delete e[t]),i}function Controller(){function e(){function e(t){t&&t.forEach(function(t){if(g++,d&&Ti.API.debug("["+g+"] ("+t.id+")  Checking for icon attribute"),t.icon){var i=h.charMap[t.icon];d&&Ti.API.debug("["+g+"] ("+t.id+')  icon attribute found. value is "'+t.icon+'"'),"fa-"===t.icon.substring(0,3)&&(d&&Ti.API.debug("["+g+"] ("+t.id+")  fa- prefix found"),r(t,i))}e(t.views||t.children)})}e([s])}function t(e){e.icon&&(e.icon=""),e.text&&(e.text=i(e.text)),e.title&&(e.text=i(e.title))}function i(e){return e.replace(/[^\w\s]/gi,"")}function r(e,t){var i=t,r=t,n=h.defaultSize;e.text&&(i+=" "+e.text),e.title&&(r+=" "+e.title),d&&Ti.API.debug("["+g+'] aText = "'+i+'"'),d&&Ti.API.debug("["+g+'] aTitle = "'+r+'"'),e.font&&e.font.fontSize&&(n=e.font.fontSize);var o={font:{fontFamily:h.fontFamily,fontSize:n},text:i,title:r};if(e.applyProperties(o),d){Ti.API.debug(e.getFont().fontFamily);for(var a in e)Ti.API.debug("["+g+"] ("+e.id+") {"+a+'} value is "'+e[a]+'"')}}function n(e,t){e.icon=t;var i=h.charMap[e.icon];r(e,i)}function o(e){t(e)}function a(e,i){t(e),n(e,i)}if(new(require("alloy/widget"))("com.mattmcfarland.fontawesome"),this.__widgetId="com.mattmcfarland.fontawesome",require("alloy/controllers/BaseController").apply(this,Array.prototype.slice.call(arguments)),this.__controllerPath="widget",this.args=arguments[0]||{},arguments[0]){var s=__processArg(arguments[0],"__parentSymbol");__processArg(arguments[0],"$model"),__processArg(arguments[0],"__itemTemplate")}var l=this,u={};u.destroy=function(){},_.extend(l,l.__views),u.debugMode,u.icons,u.iconPrefix,u.instaParse,u.add=function(e,t){n(e,t)},u.remove=function(e){o(e)},u.change=function(e,t){a(e,t)},u.refresh=function(){e()};var c,d,h,f,p=arguments[0]||{},g=0;h="undefined"==typeof p.icons?u.icons:p.icons,d="undefined"==typeof p.debugMode?u.debugMode:p.debugMode,c="undefined"==typeof p.iconPrefix?u.iconPrefix:p.iconPrefix,f="undefined"==typeof p.instaParse?u.instaParse:p.instaParse,"undefined"==typeof h&&(h=require(WPATH("icons"))),"undefined"==typeof c&&(c=h.prefix),"undefined"==typeof c&&(c="fa-"),"undefined"==typeof d&&(d=!1),"undefined"==typeof f&&(f=!0),d&&Ti.API.debug("Font Awesome widget.js is active"),f&&e(),_.extend(l,u)}var Alloy=require("alloy"),Backbone=Alloy.Backbone,_=Alloy._;module.exports=Controller;